{"sessionId": "debug-session", "runId": "pre-fix", "hypothesisId": "H4", "location": "rag.py:HybridRetriever.__init__", "message": "collection_loaded", "data": {"collection": "xfel_bibs_collection_with_abstract", "alias": "hybrid_xfel_bibs_collection_with_abstract", "fieldNames": ["title", "doi", "year", "journal", "abstract", "page", "start_index", "text", "pk", "dense_vector", "sparse_vector"], "hasDenseVector": true, "hasSparseVector": true}, "timestamp": 1765893321478}
{"sessionId": "debug-session", "runId": "pre-fix", "hypothesisId": "H2", "location": "chatxfel_app.py:generate_llama2_response", "message": "history_built", "data": {"traceId": "c9003184", "useHistory": true, "nMessages": 2, "nHistoryTurns": 0, "historyTextLen": 25, "historyIsDefault": true}, "timestamp": 1765893535110}
{"sessionId": "debug-session", "runId": "pre-fix", "hypothesisId": "H3", "location": "chatxfel_app.py:generate_llama2_response", "message": "ui_mode_and_retriever", "data": {"traceId": "c9003184", "selectedCol": "xfel_bibs_collection_with_abstract", "hybridEnabled": true, "denseWeightUI": 0.8, "sparseWeightUI": 0.2, "queryRewriteEnabled": true, "chatHistoryEnabled": true, "promptHasHistoryPlaceholder": true, "promptVars": ["context", "history", "question"], "retrieverType": "ContextualCompressionRetriever", "baseRetrieverType": "HybridRetriever"}, "timestamp": 1765893535110}
{"sessionId": "debug-session", "runId": "pre-fix", "hypothesisId": "H1", "location": "rag.py:retrieve_generate", "message": "entry", "data": {"traceId": "c9003184", "returnSource": true, "useQueryRewrite": true, "historyProvided": true, "historyLen": 25, "promptVars": ["context", "history", "question"], "retrieverType": "ContextualCompressionRetriever"}, "timestamp": 1765893535111}
{"sessionId": "debug-session", "runId": "pre-fix", "hypothesisId": "H1", "location": "rag.py:retrieve_generate", "message": "chain_build", "data": {"traceId": "c9003184", "historyBranchUsed": true, "rewrittenApplied": false, "originalLen": 15, "finalLen": 15}, "timestamp": 1765893545755}
{"sessionId": "debug-session", "runId": "pre-fix", "hypothesisId": "H5", "location": "rag.py:HybridRetriever._get_relevant_documents", "message": "hybrid_query_entry", "data": {"traceId": "c9003184", "queryLen": 15, "topK": 10, "denseWeight": 0.8, "sparseWeight": 0.2, "filters": "2000 <= year <= 2025", "embeddingType": "BGEM3EmbeddingFunction"}, "timestamp": 1765893545770}
{"sessionId": "debug-session", "runId": "pre-fix", "hypothesisId": "H4", "location": "rag.py:HybridRetriever._get_relevant_documents", "message": "hybrid_query_results", "data": {"traceId": "c9003184", "denseHits": 10, "sparseHits": 10, "fusedCount": 10, "returnedDocs": 10}, "timestamp": 1765893550756}
{"sessionId": "debug-session", "runId": "pre-fix", "hypothesisId": "H2", "location": "chatxfel_app.py:generate_llama2_response", "message": "history_built", "data": {"traceId": "07297c23", "useHistory": true, "nMessages": 4, "nHistoryTurns": 2, "historyTextLen": 1552, "historyIsDefault": false}, "timestamp": 1765893706399}
{"sessionId": "debug-session", "runId": "pre-fix", "hypothesisId": "H3", "location": "chatxfel_app.py:generate_llama2_response", "message": "ui_mode_and_retriever", "data": {"traceId": "07297c23", "selectedCol": "xfel_bibs_collection_with_abstract", "hybridEnabled": true, "denseWeightUI": 0.8, "sparseWeightUI": 0.2, "queryRewriteEnabled": true, "chatHistoryEnabled": true, "promptHasHistoryPlaceholder": true, "promptVars": ["context", "history", "question"], "retrieverType": "ContextualCompressionRetriever", "baseRetrieverType": "HybridRetriever"}, "timestamp": 1765893706400}
{"sessionId": "debug-session", "runId": "pre-fix", "hypothesisId": "H1", "location": "rag.py:retrieve_generate", "message": "entry", "data": {"traceId": "07297c23", "returnSource": true, "useQueryRewrite": true, "historyProvided": true, "historyLen": 1552, "promptVars": ["context", "history", "question"], "retrieverType": "ContextualCompressionRetriever"}, "timestamp": 1765893706400}
{"sessionId": "debug-session", "runId": "pre-fix", "hypothesisId": "H1", "location": "rag.py:retrieve_generate", "message": "chain_build", "data": {"traceId": "07297c23", "historyBranchUsed": true, "rewrittenApplied": true, "originalLen": 5, "finalLen": 14}, "timestamp": 1765893716166}
{"sessionId": "debug-session", "runId": "pre-fix", "hypothesisId": "H5", "location": "rag.py:HybridRetriever._get_relevant_documents", "message": "hybrid_query_entry", "data": {"traceId": "7e2eccab", "queryLen": 14, "topK": 10, "denseWeight": 0.8, "sparseWeight": 0.2, "filters": "2000 <= year <= 2025", "embeddingType": "BGEM3EmbeddingFunction"}, "timestamp": 1765893716180}
{"sessionId": "debug-session", "runId": "pre-fix", "hypothesisId": "H4", "location": "rag.py:HybridRetriever._get_relevant_documents", "message": "hybrid_query_results", "data": {"traceId": "7e2eccab", "denseHits": 10, "sparseHits": 10, "fusedCount": 10, "returnedDocs": 10}, "timestamp": 1765893717331}
{"sessionId": "debug-session", "runId": "pre-fix", "hypothesisId": "H2", "location": "chatxfel_app.py:generate_llama2_response", "message": "history_built", "data": {"traceId": "0be5eac2", "useHistory": true, "nMessages": 6, "nHistoryTurns": 4, "historyTextLen": 3183, "historyIsDefault": false}, "timestamp": 1765893752421}
{"sessionId": "debug-session", "runId": "pre-fix", "hypothesisId": "H3", "location": "chatxfel_app.py:generate_llama2_response", "message": "ui_mode_and_retriever", "data": {"traceId": "0be5eac2", "selectedCol": "xfel_bibs_collection_with_abstract", "hybridEnabled": true, "denseWeightUI": 0.8, "sparseWeightUI": 0.2, "queryRewriteEnabled": true, "chatHistoryEnabled": true, "promptHasHistoryPlaceholder": true, "promptVars": ["context", "history", "question"], "retrieverType": "ContextualCompressionRetriever", "baseRetrieverType": "HybridRetriever"}, "timestamp": 1765893752421}
{"sessionId": "debug-session", "runId": "pre-fix", "hypothesisId": "H1", "location": "rag.py:retrieve_generate", "message": "entry", "data": {"traceId": "0be5eac2", "returnSource": true, "useQueryRewrite": true, "historyProvided": true, "historyLen": 3183, "promptVars": ["context", "history", "question"], "retrieverType": "ContextualCompressionRetriever"}, "timestamp": 1765893752421}
{"sessionId": "debug-session", "runId": "pre-fix", "hypothesisId": "H1", "location": "rag.py:retrieve_generate", "message": "chain_build", "data": {"traceId": "0be5eac2", "historyBranchUsed": true, "rewrittenApplied": true, "originalLen": 5, "finalLen": 10}, "timestamp": 1765893772881}
{"sessionId": "debug-session", "runId": "pre-fix", "hypothesisId": "H5", "location": "rag.py:HybridRetriever._get_relevant_documents", "message": "hybrid_query_entry", "data": {"traceId": "d460e098", "queryLen": 10, "topK": 10, "denseWeight": 0.8, "sparseWeight": 0.2, "filters": "2000 <= year <= 2025", "embeddingType": "BGEM3EmbeddingFunction"}, "timestamp": 1765893772896}
{"sessionId": "debug-session", "runId": "pre-fix", "hypothesisId": "H4", "location": "rag.py:HybridRetriever._get_relevant_documents", "message": "hybrid_query_results", "data": {"traceId": "d460e098", "denseHits": 10, "sparseHits": 10, "fusedCount": 10, "returnedDocs": 10}, "timestamp": 1765893773841}
{"sessionId": "debug-session", "runId": "pre-fix", "hypothesisId": "H2", "location": "chatxfel_app.py:generate_llama2_response", "message": "history_built", "data": {"traceId": "07297c23", "useHistory": false, "nMessages": 8, "nHistoryTurns": 6, "historyTextLen": 25, "historyIsDefault": true}, "timestamp": 1765893806074}
{"sessionId": "debug-session", "runId": "pre-fix", "hypothesisId": "H3", "location": "chatxfel_app.py:generate_llama2_response", "message": "ui_mode_and_retriever", "data": {"traceId": "07297c23", "selectedCol": "xfel_bibs_collection_with_abstract", "hybridEnabled": true, "denseWeightUI": 0.8, "sparseWeightUI": 0.2, "queryRewriteEnabled": true, "chatHistoryEnabled": false, "promptHasHistoryPlaceholder": false, "promptVars": ["context", "question"], "retrieverType": "ContextualCompressionRetriever", "baseRetrieverType": "HybridRetriever"}, "timestamp": 1765893806074}
{"sessionId": "debug-session", "runId": "pre-fix", "hypothesisId": "H1", "location": "rag.py:retrieve_generate", "message": "entry", "data": {"traceId": "07297c23", "returnSource": true, "useQueryRewrite": true, "historyProvided": false, "historyLen": 0, "promptVars": ["context", "question"], "retrieverType": "ContextualCompressionRetriever"}, "timestamp": 1765893806074}
{"sessionId": "debug-session", "runId": "pre-fix", "hypothesisId": "H1", "location": "rag.py:retrieve_generate", "message": "chain_build", "data": {"traceId": "07297c23", "historyBranchUsed": false, "rewrittenApplied": false, "originalLen": 5, "finalLen": 5}, "timestamp": 1765893816958}
{"sessionId": "debug-session", "runId": "pre-fix", "hypothesisId": "H5", "location": "rag.py:HybridRetriever._get_relevant_documents", "message": "hybrid_query_entry", "data": {"traceId": "07297c23", "queryLen": 5, "topK": 10, "denseWeight": 0.8, "sparseWeight": 0.2, "filters": "2000 <= year <= 2025", "embeddingType": "BGEM3EmbeddingFunction"}, "timestamp": 1765893816963}
{"sessionId": "debug-session", "runId": "pre-fix", "hypothesisId": "H4", "location": "rag.py:HybridRetriever._get_relevant_documents", "message": "hybrid_query_results", "data": {"traceId": "07297c23", "denseHits": 10, "sparseHits": 10, "fusedCount": 10, "returnedDocs": 10}, "timestamp": 1765893817901}
{"sessionId": "debug-session", "runId": "pre-fix", "hypothesisId": "H2", "location": "chatxfel_app.py:generate_llama2_response", "message": "history_built", "data": {"traceId": "0be5eac2", "useHistory": false, "nMessages": 10, "nHistoryTurns": 8, "historyTextLen": 25, "historyIsDefault": true}, "timestamp": 1765893871459}
{"sessionId": "debug-session", "runId": "pre-fix", "hypothesisId": "H3", "location": "chatxfel_app.py:generate_llama2_response", "message": "ui_mode_and_retriever", "data": {"traceId": "0be5eac2", "selectedCol": "xfel_bibs_collection_with_abstract", "hybridEnabled": true, "denseWeightUI": 0.8, "sparseWeightUI": 0.2, "queryRewriteEnabled": true, "chatHistoryEnabled": false, "promptHasHistoryPlaceholder": false, "promptVars": ["context", "question"], "retrieverType": "ContextualCompressionRetriever", "baseRetrieverType": "HybridRetriever"}, "timestamp": 1765893871460}
{"sessionId": "debug-session", "runId": "pre-fix", "hypothesisId": "H1", "location": "rag.py:retrieve_generate", "message": "entry", "data": {"traceId": "0be5eac2", "returnSource": true, "useQueryRewrite": true, "historyProvided": false, "historyLen": 0, "promptVars": ["context", "question"], "retrieverType": "ContextualCompressionRetriever"}, "timestamp": 1765893871460}
{"sessionId": "debug-session", "runId": "pre-fix", "hypothesisId": "H1", "location": "rag.py:retrieve_generate", "message": "chain_build", "data": {"traceId": "0be5eac2", "historyBranchUsed": false, "rewrittenApplied": false, "originalLen": 5, "finalLen": 5}, "timestamp": 1765893880432}
{"sessionId": "debug-session", "runId": "pre-fix", "hypothesisId": "H5", "location": "rag.py:HybridRetriever._get_relevant_documents", "message": "hybrid_query_entry", "data": {"traceId": "0be5eac2", "queryLen": 5, "topK": 10, "denseWeight": 0.8, "sparseWeight": 0.2, "filters": "2000 <= year <= 2025", "embeddingType": "BGEM3EmbeddingFunction"}, "timestamp": 1765893880450}
{"sessionId": "debug-session", "runId": "pre-fix", "hypothesisId": "H4", "location": "rag.py:HybridRetriever._get_relevant_documents", "message": "hybrid_query_results", "data": {"traceId": "0be5eac2", "denseHits": 10, "sparseHits": 10, "fusedCount": 10, "returnedDocs": 10}, "timestamp": 1765893881174}
